<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Convertisseur Temporel Complet</title>
    <style>
        :root {
            --primary: #2c3e50;
            --accent: #8e44ad; /* Violet imp√©rial/r√©publicain */
            --paper: #f4f4f4;
            --card-bg: #ffffff;
        }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background: var(--primary); color: #333; margin: 0; padding: 20px; min-height: 100vh; display: flex; align-items: center; justify-content: center; }
        .app-container { background: var(--paper); width: 100%; max-width: 500px; padding: 20px; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.3); }
        h1 { text-align: center; color: var(--primary); font-size: 1.4rem; margin-top: 0; }
        
        .control-group { margin-bottom: 20px; text-align: center; }
        input[type="datetime-local"] { padding: 10px; font-size: 1rem; border-radius: 8px; border: 1px solid #ccc; width: 90%; max-width: 300px; text-align: center; font-family: inherit; }
        
        .card { background: var(--card-bg); border-radius: 12px; padding: 15px; margin-bottom: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); border-left: 5px solid var(--accent); }
        .card h3 { margin: 0 0 10px 0; font-size: 1rem; color: #7f8c8d; text-transform: uppercase; letter-spacing: 1px; }
        
        .result-row { display: flex; justify-content: space-between; align-items: baseline; margin-bottom: 8px; border-bottom: 1px dashed #eee; padding-bottom: 5px; }
        .result-row:last-child { border-bottom: none; }
        .label { font-size: 0.85rem; font-weight: bold; color: #555; }
        .value { font-size: 1.1rem; color: var(--primary); font-weight: 500; text-align: right; }
        .highlight { color: #d35400; font-weight: bold; }
        
        .decimal-clock { font-family: 'Courier New', monospace; font-size: 1.8rem; text-align: center; color: var(--accent); margin-top: 5px; font-weight: bold; }
        .symbol-text { font-style: italic; color: #27ae60; }
        
        footer { text-align: center; font-size: 0.7rem; color: #aaa; margin-top: 20px; }
    </style>
</head>
<body>

<div class="app-container">
    <h1>üìÖ Convertisseur Historique</h1>
    
    <div class="control-group">
        <input type="datetime-local" id="dateInput">
    </div>

    <div class="card">
        <h3>Calendrier Gr√©gorien</h3>
        <div class="result-row">
            <span class="label">Date UTC</span>
            <span class="value" id="gregUtc">--</span>
        </div>
        <div class="result-row">
            <span class="label">Saint(s) du jour</span>
            <span class="value" id="gregSaint">--</span>
        </div>
    </div>

    <div class="card">
        <h3>Calendrier R√©publicain</h3>
        <div class="result-row">
            <span class="label">Date</span>
            <span class="value highlight" id="repDate">--</span>
        </div>
        <div class="result-row">
            <span class="label">Symbole honor√©</span>
            <span class="value symbol-text" id="repSymbol">--</span>
        </div>
        <div class="result-row" style="display:block; text-align:center;">
            <span class="label">Heure D√©cimale</span>
            <div class="decimal-clock" id="repTime">0:00:00</div>
        </div>
    </div>
    
    <footer>Code g√©n√©r√© pour usage personnel - Base de donn√©es compl√®te int√©gr√©e</footer>
</div>

<script>
// --- BASE DE DONN√âES COMPL√àTE (Format Compress√©) ---

// SAINTS (Format: "Mois-Jour": "Noms")
const saintsDb = {
    "1-1":"Jour de l'An / Marie", "1-2":"Basile", "1-3":"Genevi√®ve", "1-4":"Odilon", "1-5":"Edouard", "1-6":"M√©laine / Epiphanie", "1-7":"Raymond", "1-8":"Lucien", "1-9":"Alix", "1-10":"Guillaume", "1-11":"Paulin", "1-12":"Tatiana", "1-13":"Yvette", "1-14":"Nina", "1-15":"R√©mi", "1-16":"Marcel", "1-17":"Roseline", "1-18":"Prisca", "1-19":"Marius", "1-20":"S√©bastien", "1-21":"Agn√®s", "1-22":"Vincent", "1-23":"Barnard", "1-24":"Fran√ßois de Sales", "1-25":"Conv. de Paul", "1-26":"Paule", "1-27":"Ang√®le", "1-28":"Th. d'Aquin", "1-29":"Gildas", "1-30":"Martine", "1-31":"Marcelle",
    "2-1":"Ella", "2-2":"Pr√©sentation", "2-3":"Blaise", "2-4":"V√©ronique", "2-5":"Agathe", "2-6":"Gaston", "2-7":"Eug√©nie", "2-8":"Jacqueline", "2-9":"Apolline", "2-10":"Arnaud", "2-11":"ND de Lourdes", "2-12":"F√©lix", "2-13":"B√©atrice", "2-14":"Valentin", "2-15":"Claude", "2-16":"Julienne", "2-17":"Alexis", "2-18":"Bernadette", "2-19":"Gabin", "2-20":"Aim√©e", "2-21":"Damien", "2-22":"Isabelle", "2-23":"Lazare", "2-24":"Modeste", "2-25":"Rom√©o", "2-26":"Nestor", "2-27":"Honorine", "2-28":"Romain", "2-29":"Auguste",
    "3-1":"Aubin", "3-2":"Charles le Bon", "3-3":"Gu√©nol√©", "3-4":"Casimir", "3-5":"Olive", "3-6":"Colette", "3-7":"F√©licit√©", "3-8":"Jean de Dieu", "3-9":"Fran√ßoise", "3-10":"Vivien", "3-11":"Rosine", "3-12":"Justine", "3-13":"Rodrigue", "3-14":"Mathilde", "3-15":"Louise", "3-16":"B√©n√©dicte", "3-17":"Patrice", "3-18":"Cyrille", "3-19":"Joseph", "3-20":"Herbert", "3-21":"Cl√©mence", "3-22":"L√©a", "3-23":"Victorien", "3-24":"Cath. de Su√®de", "3-25":"Annonciation", "3-26":"Larissa", "3-27":"Habib", "3-28":"Gontran", "3-29":"Gwladys", "3-30":"Am√©d√©e", "3-31":"Benjamin",
    "4-1":"Hugues", "4-2":"Sandrine", "4-3":"Richard", "4-4":"Isidore", "4-5":"Ir√®ne", "4-6":"Marcellin", "4-7":"J-B de la Salle", "4-8":"Julie", "4-9":"Gautier", "4-10":"Fulbert", "4-11":"Stanislas", "4-12":"Jules", "4-13":"Ida", "4-14":"Maxime", "4-15":"Paterne", "4-16":"Beno√Æt-Joseph", "4-17":"Anicet", "4-18":"Parfait", "4-19":"Emma", "4-20":"Odette", "4-21":"Anselme", "4-22":"Alexandre", "4-23":"Georges", "4-24":"Fid√®le", "4-25":"Marc", "4-26":"Alida", "4-27":"Zita", "4-28":"Val√©rie", "4-29":"Cath. de Sienne", "4-30":"Robert",
    "5-1":"F√™te du Travail / J√©r√©mie", "5-2":"Boris", "5-3":"Philippe / Jacques", "5-4":"Sylvain", "5-5":"Judith", "5-6":"Prudence", "5-7":"Gis√®le", "5-8":"D√©sir√© / Victoire 1945", "5-9":"Pac√¥me", "5-10":"Solange", "5-11":"Estelle", "5-12":"Achille", "5-13":"Rolande", "5-14":"Matthias", "5-15":"Denise", "5-16":"Honor√©", "5-17":"Pascal", "5-18":"Eric", "5-19":"Yves", "5-20":"Bernardin", "5-21":"Constantin", "5-22":"Emile", "5-23":"Didier", "5-24":"Donatien", "5-25":"Sophie", "5-26":"B√©renger", "5-27":"Augustin", "5-28":"Germain", "5-29":"Aymard", "5-30":"Ferdinand", "5-31":"Visitation",
    "6-1":"Justin", "6-2":"Blandine", "6-3":"K√©vin", "6-4":"Clotilde", "6-5":"Igor", "6-6":"Norbert", "6-7":"Gilbert", "6-8":"M√©dard", "6-9":"Diane", "6-10":"Landry", "6-11":"Barnab√©", "6-12":"Guy", "6-13":"Antoine de Padoue", "6-14":"Elis√©e", "6-15":"Germaine", "6-16":"J-F R√©gis", "6-17":"Herv√©", "6-18":"L√©once", "6-19":"Romuald", "6-20":"Silv√®re", "6-21":"Rodolphe", "6-22":"Alban", "6-23":"Audrey", "6-24":"Jean-Baptiste", "6-25":"Prosper", "6-26":"Anthelme", "6-27":"Fernand", "6-28":"Ir√©n√©e", "6-29":"Pierre / Paul", "6-30":"Martial",
    "7-1":"Thierry", "7-2":"Martinien", "7-3":"Thomas", "7-4":"Florent", "7-5":"Antoine", "7-6":"Mariette", "7-7":"Raoul", "7-8":"Thibault", "7-9":"Amandine", "7-10":"Ulrich", "7-11":"Beno√Æt", "7-12":"Olivier", "7-13":"Henri / Jo√´l", "7-14":"F√™te Nationale / Camille", "7-15":"Donald", "7-16":"ND du Mont Carmel", "7-17":"Charlotte", "7-18":"Fr√©d√©ric", "7-19":"Ars√®ne", "7-20":"Marina", "7-21":"Victor", "7-22":"Marie-Madeleine", "7-23":"Brigitte", "7-24":"Christine", "7-25":"Jacques", "7-26":"Anne / Joachim", "7-27":"Nathalie", "7-28":"Samson", "7-29":"Marthe", "7-30":"Juliette", "7-31":"Ignace de Loyola",
    "8-1":"Alphonse", "8-2":"Julien Eymard", "8-3":"Lydie", "8-4":"J-M Vianney", "8-5":"Abel", "8-6":"Transfiguration", "8-7":"Ga√©tan", "8-8":"Dominique", "8-9":"Amour", "8-10":"Laurent", "8-11":"Claire", "8-12":"Clarisse", "8-13":"Hippolyte", "8-14":"Evrard", "8-15":"Assomption", "8-16":"Armel", "8-17":"Hyacinthe", "8-18":"H√©l√®ne", "8-19":"Jean-Eudes", "8-20":"Bernard", "8-21":"Christophe", "8-22":"Fabrice", "8-23":"Rose de Lima", "8-24":"Barth√©l√©my", "8-25":"Louis", "8-26":"Natacha", "8-27":"Monique", "8-28":"Augustin", "8-29":"Sabine", "8-30":"Fiacre", "8-31":"Aristide",
    "9-1":"Gilles", "9-2":"Ingrid", "9-3":"Gr√©goire", "9-4":"Rosalie", "9-5":"Ra√Øssa", "9-6":"Bertrand", "9-7":"Reine", "9-8":"Nativit√© ND", "9-9":"Alain", "9-10":"In√®s", "9-11":"Adelphe", "9-12":"Apollinaire", "9-13":"Aim√©", "9-14":"Croix Glorieuse", "9-15":"Roland", "9-16":"Edith", "9-17":"Renaud", "9-18":"Nad√®ge", "9-19":"Emilie", "9-20":"Davy", "9-21":"Matthieu", "9-22":"Maurice", "9-23":"Constant", "9-24":"Th√®cle", "9-25":"Hermann", "9-26":"C√¥me / Damien", "9-27":"Vincent de Paul", "9-28":"Venceslas", "9-29":"Michel / Gabriel", "9-30":"J√©r√¥me",
    "10-1":"Th√©r√®se de l'E.", "10-2":"L√©ger", "10-3":"G√©rard", "10-4":"Fran√ßois d'Assise", "10-5":"Fleur", "10-6":"Bruno", "10-7":"Serge", "10-8":"P√©lagie", "10-9":"Denis", "10-10":"Ghislain", "10-11":"Firmin", "10-12":"Wilfried", "10-13":"G√©raud", "10-14":"Juste", "10-15":"Th√©r√®se d'Avila", "10-16":"Edwige", "10-17":"Baudouin", "10-18":"Luc", "10-19":"Ren√©", "10-20":"Adeline", "10-21":"C√©line", "10-22":"Elodie", "10-23":"Jean de Capistran", "10-24":"Florentin", "10-25":"Cr√©pin", "10-26":"Dimitri", "10-27":"Emeline", "10-28":"Jude / Simon", "10-29":"Narcisse", "10-30":"Bienvenue", "10-31":"Quentin",
    "11-1":"Toussaint", "11-2":"D√©funts", "11-3":"Hubert", "11-4":"Charles", "11-5":"Sylvie", "11-6":"Bertille", "11-7":"Carine", "11-8":"Geoffroy", "11-9":"Th√©odore", "11-10":"L√©on", "11-11":"Armistice 1918 / Martin", "11-12":"Christian", "11-13":"Brice", "11-14":"Sidoine", "11-15":"Albert", "11-16":"Marguerite", "11-17":"Elisabeth", "11-18":"Aude", "11-19":"Tanguy", "11-20":"Edmond", "11-21":"Pr√©s. de Marie", "11-22":"C√©cile", "11-23":"Cl√©ment", "11-24":"Flora", "11-25":"Catherine", "11-26":"Delphine", "11-27":"S√©verin", "11-28":"Jacques de la M.", "11-29":"Saturnin", "11-30":"Andr√©",
    "12-1":"Florence", "12-2":"Viviane", "12-3":"Fran√ßois-Xavier", "12-4":"Barbara", "12-5":"G√©rald", "12-6":"Nicolas", "12-7":"Ambroise", "12-8":"Imm. Conception", "12-9":"Pierre Fourier", "12-10":"Romaric", "12-11":"Daniel", "12-12":"Jeanne-F.C.", "12-13":"Lucie", "12-14":"Odile", "12-15":"Ninon", "12-16":"Alice", "12-17":"Ga√´l", "12-18":"Gatien", "12-19":"Urbain", "12-20":"Th√©ophile", "12-21":"Pierre C.", "12-22":"Fran√ßoise-Xavi√®re", "12-23":"Armand", "12-24":"Ad√®le", "12-25":"No√´l", "12-26":"Etienne", "12-27":"Jean", "12-28":"Innocents", "12-29":"David", "12-30":"Roger", "12-31":"Sylvestre"
};

// SYMBOLES R√âPUBLICAINS (12 mois de 30 jours)
const symbolsDb = [
    // Vend√©miaire (Sept/Oct)
    ["Raisin", "Safran", "Ch√¢taigne", "Colchique", "Cheval", "Balsamine", "Carotte", "Amaranthe", "Panais", "Cuve", "Pomme de terre", "Immortelle", "Potiron", "R√©s√©da", "√Çne", "Belle de nuit", "Citrouille", "Sarrasin", "Tournesol", "Pressoir", "Chanvre", "P√™che", "Navet", "Amaryllis", "B≈ìuf", "Aubergine", "Piment", "Tomate", "Orge", "Tonneau"],
    // Brumaire (Oct/Nov)
    ["Pomme", "C√©leri", "Poire", "Betterave", "Oie", "H√©liotrope", "Figue", "Scorson√®re", "Alisier", "Charrue", "Salsifis", "M√¢cre", "Topinambour", "Endive", "Dindon", "Chervis", "Cresson", "Dentelaire", "Grenade", "Herse", "Bacchante", "Azerole", "Garance", "Orange", "Faisan", "Pistache", "Macjonc", "Coing", "Cormier", "Rouleau"],
    // Frimaire (Nov/D√©c)
    ["Raiponce", "Turneps", "Chicor√©e", "N√®fle", "Cochon", "M√¢che", "Chou-fleur", "Miel", "Geni√®vre", "Pioche", "Cire", "Raifort", "C√®dre", "Sapin", "Chevreuil", "Ajonc", "Cypr√®s", "Lierre", "Sabine", "Hoyau", "√ârable sucr√©", "Bruy√®re", "Roseau", "Oseille", "Grillon", "Pignon", "Li√®ge", "Truffe", "Olive", "Pelle"],
    // Niv√¥se (D√©c/Janv)
    ["Tourbe", "Houille", "Bitume", "Soufre", "Chien", "Lave", "Terre v√©g√©tale", "Fumier", "Salp√™tre", "Fl√©au", "Granit", "Argile", "Ardoise", "Gr√®s", "Lapin", "Silex", "Marne", "Pierre √† chaux", "Marbre", "Van", "Pierre √† pl√¢tre", "Sel", "Fer", "Cuivre", "Chat", "√âtain", "Plomb", "Zinc", "Mercure", "Crible"],
    // Pluvi√¥se (Janv/F√©v)
    ["Laur√©ole", "Mousse", "Fragon", "Perce-neige", "Taureau", "Laurier-tin", "Amadouvier", "M√©z√©r√©on", "Peuplier", "Coign√©e", "Ell√©bore", "Brocoli", "Laurier", "Avelinier", "Vache", "Buis", "Lichen", "If", "Pulmonaire", "Serpette", "Thlaspi", "Thimel√©", "Chiendent", "Trainasse", "Li√®vre", "Gu√®de", "Noisetier", "Cyclamen", "Ch√©lidoine", "Tra√Æneau"],
    // Vent√¥se (F√©v/Mars)
    ["Tussilage", "Cornouiller", "Violier", "Tro√®ne", "Bouc", "Asaret", "Alaterne", "Violette", "Marceau", "B√™che", "Narcisse", "Orme", "Fumeterre", "V√©lar", "Ch√®vre", "√âpinard", "Doronic", "Mouron", "Cerfeuil", "Cordeau", "Mandragore", "Persil", "Cochl√©aria", "P√¢querette", "Thon", "Pissenlit", "Sylvie", "Capillaire", "Fr√™ne", "Plantoir"],
    // Germinal (Mars/Avril)
    ["Primev√®re", "Platane", "Asperge", "Tulipe", "Poule", "Bette", "Bouleau", "Jonquille", "Aulne", "Couvoir", "Pervenche", "Charme", "Morille", "H√™tre", "Abeille", "Laitue", "M√©l√®ze", "Cigu√´", "Radis", "Ruche", "Gainier", "Romaine", "Marronnier", "Roquette", "Pigeon", "Lilas", "An√©mone", "Pens√©e", "Myrtille", "Greffoir"],
    // Flor√©al (Avril/Mai)
    ["Rose", "Ch√™ne", "Foug√®re", "Aub√©pine", "Rossignol", "Ancolie", "Muguet", "Champignon", "Hyacinthe", "R√¢teau", "Rhubarbe", "Sainfoin", "B√¢ton-d'or", "Cham√©rops", "Ver √† soie", "Consoude", "Pimprenelle", "Corbeille d'or", "Arroche", "Sarcloir", "Statice", "Fritillaire", "Bourrache", "Val√©riane", "Carpe", "Fusain", "Civette", "Buglosse", "S√©nev√©", "Houlette"],
    // Prairial (Mai/Juin)
    ["Luzerne", "H√©m√©rocalle", "Tr√®fle", "Ang√©lique", "Canard", "M√©lisse", "Fromental", "Martagon", "Serpolet", "Faux", "Fraise", "B√©toine", "Pois", "Acacia", "Caille", "≈íillet", "Sureau", "Pavot", "Tilleul", "Fourche", "Barbeau", "Camomille", "Ch√®vrefeuille", "Caille-lait", "Tanche", "Jasmin", "Verveine", "Thym", "Pivoine", "Chariot"],
    // Messidor (Juin/Juillet)
    ["Seigle", "Avoine", "Oignon", "V√©ronique", "Mulet", "Romarin", "Concombre", "√âchalote", "Absinthe", "Faucille", "Coriandre", "Artichaut", "Girofle", "Lavande", "Chamois", "Tabac", "Groseille", "Gesse", "Cerise", "Parc", "Menthe", "Cumin", "Haricot", "Orcan√®te", "Pintade", "Sauge", "Ail", "Vesce", "Bl√©", "Chal√©mie"],
    // Thermidor (Juillet/Ao√ªt)
    ["√âpeautre", "Bouillon blanc", "Melon", "Ivraie", "B√©lier", "Pr√™le", "Armoise", "Carthame", "M√ªre", "Arrosoir", "Panic", "Salicorne", "Abricot", "Basilic", "Brebis", "Guimauve", "Lin", "Amande", "Gentiane", "√âcluse", "Carline", "C√¢prier", "Lentille", "Aun√©e", "Loutre", "Myrte", "Colza", "Lupin", "Coton", "Moulin"],
    // Fructidor (Ao√ªt/Sept)
    ["Prune", "Millet", "Lycoperdon", "Escourgeon", "Saumon", "Tub√©reuse", "Sucrion", "Apocyn", "R√©glisse", "√âchelle", "Past√®que", "Fenouil", "√âpine vinette", "Noix", "Truite", "Citron", "Card√®re", "Nerprun", "Tagette", "Hotte", "√âglantier", "Noisette", "Houblon", "Sorgho", "√âcrevisse", "Bigarade", "Verge d'or", "Ma√Øs", "Marron", "Panier"]
];

const joursCompl = ["Jour de la Vertu", "Jour du G√©nie", "Jour du Travail", "Jour de l'Opinion", "Jour des R√©compenses", "Jour de la R√©volution"];
const moisRep = ["Vend√©miaire", "Brumaire", "Frimaire", "Niv√¥se", "Pluvi√¥se", "Vent√¥se", "Germinal", "Flor√©al", "Prairial", "Messidor", "Thermidor", "Fructidor"];
const joursRep = ["Primidi", "Duodi", "Tridi", "Quartidi", "Quintidi", "Sextidi", "Septidi", "Octidi", "Nonidi", "D√©cadi"];

// --- LOGIQUE DE L'APPLICATION ---

const input = document.getElementById('dateInput');
const now = new Date();
now.setMinutes(now.getMinutes() - now.getTimezoneOffset());
input.value = now.toISOString().slice(0, 16);

// Mise √† jour initiale
updateAll();

// √âcouteur d'√©v√©nement
input.addEventListener('input', updateAll);

function updateAll() {
    const d = new Date(input.value);
    if (isNaN(d)) return;

    // 1. UTC & Saint
    const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit', timeZone: 'UTC' };
    document.getElementById('gregUtc').textContent = d.toLocaleDateString('fr-FR', options) + " UTC";

    const key = (d.getMonth() + 1) + "-" + d.getDate();
    document.getElementById('gregSaint').textContent = saintsDb[key] || "F√™te mobile / Pas de saint";

    // 2. Conversion R√©publicaine (M√©thode de l'√âquinoxe de Paris simplifi√©e)
    // Point de rep√®re : 1er Vend√©miaire An I = 22 Septembre 1792
    // Une ann√©e r√©publicaine commence le jour de l'√©quinoxe d'automne √† Paris (env. 22, 23, 24 sept)
    
    // Algorithme de Romme (Continu) utilis√© pour la coh√©rence informatique
    const startDate = new Date(1792, 8, 22).getTime();
    const currentMs = d.getTime();
    const msPerDay = 86400000;
    
    // Jours √©coul√©s depuis le d√©but de l'√®re r√©publicaine
    // On ajoute le timezone offset pour aligner les "jours" correctement (minuit local vs UTC)
    let diffDays = Math.floor((currentMs - startDate) / msPerDay);
    
    // Calcul de l'ann√©e
    // Cycle de 4 ans (Francade) : 365, 365, 365, 366 (Sextile)
    // C'est une approximation, le vrai calendrier r√©publicain d√©pendait de l'astronomie, 
    // mais le syst√®me Romme est le standard pour les convertisseurs simples.
    
    let year = 1;
    let daysInYear = 365;
    
    // Boucle pour trouver l'ann√©e (m√©thode na√Øve mais robuste)
    while (true) {
        // R√®gle sextile : Ann√©es 3, 7, 11, 15, 19... (an % 4 === 3 avant l'an 20, r√®gles complexes apr√®s)
        // Simplification standard Romme : bissextile si (an + 1) % 4 == 0
        let isLeap = (year + 1) % 4 === 0;
        if (year % 100 === 0) isLeap = false; // Correction gr√©gorienne appliqu√©e r√©trospectivement
        if (year % 400 === 0) isLeap = true;

        daysInYear = isLeap ? 366 : 365;
        
        if (diffDays < daysInYear) break;
        diffDays -= daysInYear;
        year++;
    }

    // diffDays est maintenant le jour dans l'ann√©e (0 √† 365)
    
    let moisIdx = Math.floor(diffDays / 30);
    let jourIdx = diffDays % 30;
    let dateStr = "";
    let symbolStr = "";

    if (moisIdx < 12) {
        // Mois standard
        dateStr = `${joursRep[jourIdx % 10]} ${jourIdx + 1} ${moisRep[moisIdx]} an ${toRoman(year)}`;
        symbolStr = symbolsDb[moisIdx][jourIdx];
    } else {
        // Jours compl√©mentaires
        // jourIdx sera 0, 1, 2, 3, 4, ou 5
        if (jourIdx < joursCompl.length) {
            dateStr = `${joursCompl[jourIdx]} an ${toRoman(year)}`;
            symbolStr = "F√™te de la fin d'ann√©e";
        } else {
            // Cas rare d'erreur de bord
            dateStr = "Jour hors du temps";
        }
    }

    document.getElementById('repDate').textContent = dateStr;
    document.getElementById('repSymbol').textContent = symbolStr;

    // 3. Heure D√©cimale
    // Bas√© sur le temps √©coul√© dans la journ√©e locale s√©lectionn√©e
    const totalSeconds = d.getHours() * 3600 + d.getMinutes() * 60 + d.getSeconds();
    const decimalSecTotal = totalSeconds / 0.864; // 86400 sec / 100000 dec sec = 0.864
    
    const hDec = Math.floor(decimalSecTotal / 10000);
    const mDec = Math.floor((decimalSecTotal % 10000) / 100);
    const sDec = Math.floor(decimalSecTotal % 100);

    document.getElementById('repTime').textContent = 
        `${hDec}:${mDec.toString().padStart(2, '0')}:${sDec.toString().padStart(2, '0')}`;
}

function toRoman(num) {
    if (num < 1) return "";
    const roman = {M:1000,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1};
    let str = '';
    for (let i of Object.keys(roman)) {
        let q = Math.floor(num / roman[i]);
        num -= q * roman[i];
        str += i.repeat(q);
    }
    return str;
}
</script>

</body>
</html>
